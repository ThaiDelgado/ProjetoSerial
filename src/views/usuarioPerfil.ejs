<html lang="pt-br">
    <head>
        <%- include('./partials/head')%>
        <link href="/css/stylePadrao.css" rel="stylesheet">
        <link href="/css/usuarioPerfil.css" rel="stylesheet">        
        
        <title>Serial - Perfil</title> 
    </head>
    <body>
        <%- include('./partials/header')%>

        <%- include('./partials/userInfo')%>

        <main>
            <section class="favoritesUser">
                <div class="container">
                    <div class="favoritesTitle">
                        <h1>FAVORITOS</h1>
                    </div>                
                    <div class="favoritesCast">
                        <div class="favoritesCastTitlesWrap">
                            <%if(userProfile.castFavorites == null || userProfile.castFavorites.length == 0){%>
                                <p>Não há favoritos adicionados!</p>
                            <%}%>
                            <%userProfile.castFavorites.forEach(({},index)=> {%>
                                <div class="favoritesCastTitle">
                                    <a href="<%=`/serie/${userProfile.castFavorites[index].id}/1`%>">
                                        <img src="<%=`https://image.tmdb.org/t/p/w500${userProfile.castFavorites[index].poster_path}`%>" alt="">
                                        <h3><%=userProfile.castFavorites[index].original_name%></h3>
                                        <h4><%=userProfile.castFavorites[index].first_air_date.substring(0,4)%></h4>
                                    </a>
                                </div>
                            <%})%>
                        </div>
                    </div>
                </div>
            </section><!--favoritesUser-->

            <section class="timekeeper">
                <div class="container">
                    <h1>Temporizador</h1>
                    <div id="timeclock">
                        <div class="timer">
                            <h2><%=timekeeper.timeMonths < 10 ? '0' + timekeeper.timeMonths : timekeeper.timeMonths%></h2>
                            <h4><%=timekeeper.timeMonths > 1 ? 'MESES' : 'MÊS'%></h4>                        
                        </div>
                        <div class="timer">
                            <h2><%=timekeeper.timeDays < 10 ? '0' + timekeeper.timeDays : timekeeper.timeDays%></h2>
                            <h4><%=timekeeper.timeDays > 1 ? 'DIAS' : 'DIA'%></h4>                       
                        </div>
                        <div class="timer">
                            <h2><%=timekeeper.timeHours < 10 ? '0' + timekeeper.timeHours : timekeeper.timeHours%></h2>
                            <h4><%=timekeeper.timeHours > 1 ? 'HORAS' : 'HORA'%></h4>                
                        </div>
                        <div class="timer">
                            <h2><%=timekeeper.timeMinutes < 10 ? '0' + timekeeper.timeMinutes : timekeeper.timeMinutes%></h2>
                            <h4>MIN</h4>                           
                        </div>
                    </div>

                    <section class="episodeInfo">
                        <div class="episodesCount">
                            <h2>Episódios</h2>
                            <h3><%=userProfile.episodes%></h3>
                        </div>
                        <div class="episodesGenders">
                            <h2>Gêneros</h2>
                            <ul>
                                <%if(userProfile.genresTvShows == null || userProfile.genresTvShows.length == 0){%>
                                    <p>Não há favoritos adicionados!</p>
                                <%} else {%>
                                    <%userProfile.genresTvShows.forEach(({},index)=> {%>
                                        <li><%=userProfile.genresTvShows[index].name%></li>
                                    <%})%>
                                <%}%>
                            </ul>
                        </div>
                    </section>
                </div><!--container-->
            </section><!--timekeeper-->

            <section class="userTvShows">
                <div class="container">
                    <h2>CAST SÉRIES</h2>
                    <div class='userTvCastWrap'>
                        
                        <div class="userTvCast">
                            <%if(userProfile.castTvShows == null || userProfile.castTvShows.length == 0){%>
                                <p>Não há séries adicionadas!</p>
                            <%}%>
                            <%userProfile.castTvShows.forEach(({},index)=> {%>
                                <div class="userCastTitle">
                                    <a href="<%=`/serie/${userProfile.castTvShows[index].id}/1`%>">
                                        <img src="<%=`https://image.tmdb.org/t/p/w500/${userProfile.castTvShows[index].poster_path}`%>" alt="">
                                        <h3><%=userProfile.castTvShows[index].original_name%></h3>
                                        <h4><%=userProfile.castTvShows[index].first_air_date.substring(0,4)%></h4>
                                    </a>
                                </div><!--userCastTitle-->
                            <%})%>
                        </div><!--userTvCast-->
                    </div>
                </div><!--container-->
            </section><!--userTvShows-->
        </main>

    </body>
</html>